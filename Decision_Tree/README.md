一、功能概述

这段代码实现了一个简单的决策树分类器，用于对糖尿病数据集进行二分类预测，并绘制决策树的可视化图形。

二、代码详解

决策树类（DecisionTree）

__init__方法：初始化决策树对象，可接收最大深度参数max_depth，并初始化树结构为None。
fit方法：训练决策树，调用_grow_tree方法递归构建决策树。
_grow_tree方法：递归构建决策树的核心方法。首先根据当前节点的样本类别分布确定预测类别和计算基尼不纯度。如果当前深度小于最大深度且能找到最佳分裂特征和阈值，则将样本分为左右子节点，继续递归构建左右子树。
_best_split方法：遍历所有特征，寻找最佳分裂点，即能使基尼不纯度最小的特征和阈值。
_calculate_gini_impurity方法：计算给定样本集的基尼不纯度。
_predict_sample方法：对单个样本进行预测，根据样本特征值在决策树中递归查找预测类别。
predict方法：对一组样本进行预测，调用_predict_sample方法对每个样本进行预测。

使用示例部分

加载糖尿病数据集并转换为DataFrame，添加二分类目标列。

划分训练集和测试集。

创建决策树模型对象并设置最大深度为 3。

训练模型并在测试集上进行预测。

计算准确率评估模型性能。

决策树可视化部分

draw_tree方法：递归绘制决策树的方法。接收决策树节点、特征名称和当前深度作为参数，创建有向图nx.DiGraph，并根据节点类型添加节点描述信息和边，递归调用自身绘制子树。

使用graphviz_layout和nx.draw、nx.draw_networkx_labels等方法绘制决策树图形，展示决策树的结构和节点信息。

三、应用场景

该代码可用于分类问题，特别是在特征较少且易于解释的情况下。例如：

医学诊断：根据患者的症状和检查结果进行疾病诊断。

金融风险评估：判断客户是否具有违约风险。
